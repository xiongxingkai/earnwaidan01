GitHub 实现多人协同提交代码并且权限分组管理
前言：
在上一篇文章中Android github 快速实现多人协作 (http://www.cnblogs.com/zhaoyanjun/p/5829142.html)介绍了如何快速的实现多人协作的功能。

其优点是：操作简单，快速上手。缺点是：没有办法实现权限控制。为啥要权限控制？这是一个蛋疼的问题，因为我们为了项目的安全考虑，需要对一部分人开放只读权限(只能 read、clone) ; 或者对一部分人开放写权限(只能 read、clone、push) ; 或者对一部分人开放管理者权限(只能 read、clone、push、给仓库添加成员 )。事实上github对权限的管理只有4种，前三种权限分别是 Admin(管理者)、Write(只写) 、Read(只读) 。最后一种权限比较特殊，它是该组织的创建者，拥有至高无上的的权利。

 

正文：
要想弄清楚github权限管理，需要了解几个概念。 organization（组织） 、repository（仓库）、Team（团队）。

在了解这些概念之前，先听我讲一个小故事。话说从前有个生意人，由于他聪明又能干，他开了水果摊、奶茶店、还有一个网吧。转眼10年过去了，他积累了很多钱，也有了很牛逼的权利，总的来说就是有钱有势有人，于是乎有一天他带领100个兄弟成立一个黑帮组织：青帮。组织成立后，他把100个兄弟分成4个team, 每个team 25个人。团队成立后，兄弟们总不能坐着饿死吧，于是乎他有开了一个ktv 、一个超市、一个足浴大保健。那么问题就来了，怎么让4个team接手这3个项目，要有明确的权限控制，如果权限控制不得当，就会出现自家兄弟互相抢地盘的问题。一个项目可以让多个team管理，一个team可以管多个项目，所以team和项目之间是多对多的关系。

小故事的中的角色资产分析
生意人所拥有的资产：3个项目：水果摊、奶菜店、网吧。

                           1个组织：青帮

青帮组织所拥有的资产：3个项目：Ktv、超市、足浴大保健

                              4个team

注意：水果摊、奶菜店、网吧 这三个项目只属于生意人的资产，不归任何组织所拥有。那延伸一下，生意人是可以再次创建一个新的项目，比如一个4s店；同时他也可以再创建一个新的组织，比如一个洪帮组织。同样在洪帮组织里面可以创建多个team。

现在可以把思路转换到github中，对应关系

 

生意人   -->   你注册的github账户

水果摊   -->   repository（仓库）

青帮      -->   organization（组织）

团队      -->     Team（团队）

 


1、github实战--创建组织
在故事中，生意人可以创建项目和组织。对应到github上的用户可以创建仓库和组织。




2、github实战--在组织中创建仓库
  当创建完组织后，来看看组织的结构


  在Organ-Name 组织下，创建一个仓库


3、github实战--在组织中创建team


 团队创建完成后，默认这个团队的成员只有一个人，就是该账号。下面就开始给这个team添加其他成员。

邀请成功以后，需要被邀请人去自己的邮箱点击一下，确认邀请

 

4、github实战--在组织中给仓库添加team并且设置权限。
可以看到，仓库对team的权限控制有三种

Admin 管理者权限(只能 read、clone、push、给仓库添加成员 )
Write 写权限(只能 read、clone、push)
Read 读权限(只能 read、clone) 
 

另外任意一个Team可以供多个组织使用，到这里权限添加已经全部完成了。

 

总结
通过这篇文章可以在github愉快的使用权限管理了，但是github不能免费的创建私有仓库，这是一个很严重的问题。如果是开源项目，用github完全没有问题。如果是私有项目，可以有以下几个途径达到要求
        1、在github花钱购买私有仓库。

       2、使用国内比较出名的开源中国git托管服务：https://git.oschina.net/   

       3、使用GitLab,这需要在自己的服务器上部署。传送门：https://about.gitlab.com/gitlab-com/







===========================================================================================
===========================================================================================
===========================================================================================

Gitlab管理员如何给一个项目分配成员或组权限

在Gitlab上面新建一个项目，项目设置为私有项目，需要给团队对应的成员分配权限，
要不然其它成员是没有办法下载和上传项目文件和代码的。Gitlab有管理员角色，
拥有很多权限，包括用户的管理，项目的管理，权限的管理，
下面就来介绍下如何使用gitlab的管理员角色来给一个项目分配成员或组的权限

1.使用管理员角色的用户登录上gitlab之后，会在左上角个人头像的地方，有个像扳手一样的图标，
这个就是管理员区域的入口按钮，普通用户登录进去是没有这样的图标的。

2.进入管理员区域之后，在上方的导航栏处，Overview》projects，
可以针对项目进行管理，此处导航栏里可以看到针对用户，分组等信息的管理，
这里我们选择projects对项目进行权限的配置管理


3.选择projects之后在下面会显示当前所有的项目列表，项目列表比较多的，
可以在search的输入框里搜索查询。找到需要配置的项目之后，点击后面的Edit按钮进入项目编辑页面

4.如图所示的页面，点击右上角的设置按钮，选择Members针对成员分配权限，选择Group是针对组分配权限

5.选择Members之后，在最下方可以看到已经添加的成员列表，如果还需要添加新的成员，
在People的位置输入搜索的用户名即可，这里支持模糊匹配，Project Access项目访问级别，
如果是开发人员选择Developer即可，只是查看权限，选择Guest即可


6.以上介绍的是项目添加成员的方法，还可以以组的方式来添加，比直接分配要好些，
特别是对多用户和多项目的情况下，使用组可以节省很多时间。添加用户到组的方式也比较简单，
在如图所示的页面点击Manage group members即可进入，然后填写需要添加的用户名，点击Add users to group


7.项目和组之间也是需要有一个共享的关系，创建项目的时候，
如果选择了组则默认该组下面的所有成员都具备权限。如果想给另一个项目也添加到同一个组中，
则可以Set a group to share即可。入口就在第四步图的位置，选择的group处。






